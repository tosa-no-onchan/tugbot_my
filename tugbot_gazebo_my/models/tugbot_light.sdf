<?xml version='1.0' ?>
<sdf version='1.10'>
  <model name='tugbot'>
    <self_collide>false</self_collide>
    <pose>2.7526799999999998 1.0014000000000001 0.13227900000000001 0 0 0</pose>
    <static>false</static>

    <link name="base_footprint"/>

    <link name='base_link'>
      <pose>0 0 0 0 0 0</pose>
      <inertial>
        <pose>-0.10000000000000001 0 0.10000000000000001 0 0 0</pose>
        <mass>46.200000000000003</mass>
        <inertia>
          <ixx>1.55925</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1.55925</iyy>
          <iyz>0</iyz>
          <izz>1.55925</izz>
        </inertia>
      </inertial>
      <collision name='base_link_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>meshes/base/tugbot_simp.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='base_link_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>meshes/base/tugbot_simp.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <visual name='movai_logo_visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>meshes/base/movai_logo.dae</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>1 1 1 1</diffuse>
          <pbr>
            <metal>
              <albedo_map>meshes/base/movai-logo.png</albedo_map>
            </metal>
          </pbr>
        </material>
      </visual>
      <visual name='light_link_visual'>
        <pose>-0.10000000000000001 0 0.19450000000000001 0 1.5707963267948966 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>meshes/light_link/light_led.stl</uri>
          </mesh>
        </geometry>
        <material>
          <ambient>0 0 0 1</ambient>
          <diffuse>0 0 0 1</diffuse>
          <specular>0 0 0 1</specular>
          <emissive>0 1 0 1</emissive>
        </material>
      </visual>
      <visual name='warnign_light_visual'>
        <pose>-0.099000000000000005 0 0.19500000000000001 0 1.5707963267948966 0</pose>
        <geometry>
          <mesh>
            <scale>1.02 1.02 1.02</scale>
            <uri>meshes/light_link/light.stl</uri>
          </mesh>
        </geometry>
        <material>
          <ambient>0.100000001 0.0500000007 0 0.5</ambient>
          <diffuse>1 0.5 0 0.5</diffuse>
          <specular>1 0.5 0 0.5</specular>
          <emissive>1 0.5 0 0.5</emissive>
        </material>
      </visual>
      <enable_wind>false</enable_wind>
    </link>
    <link name='imu_link'>
      <pose>0.14000000000000012 0.020000000000000018 0.25 0 0 -1.5699999999999998</pose>
      <sensor name='imu' type='imu'>
        <pose>6.9388939039072284e-18 2.7755575615628914e-17 0 0 0 0</pose>
        <topic>__default__</topic>
        <update_rate>30</update_rate>
        <enable_metrics>false</enable_metrics>
        <imu>
          <orientation_reference_frame>
            <localization>CUSTOM</localization>
            <custom_rpy>0 0 0</custom_rpy>
            <grav_dir_x>1 0 0</grav_dir_x>
          </orientation_reference_frame>
          <angular_velocity>
            <x>
              <noise type='none'>
                <mean>0</mean>
                <stddev>0</stddev>
                <bias_mean>0</bias_mean>
                <bias_stddev>0</bias_stddev>
                <dynamic_bias_stddev>0</dynamic_bias_stddev>
                <dynamic_bias_correlation_time>0</dynamic_bias_correlation_time>
                <precision>0</precision>
              </noise>
            </x>
            <y>
              <noise type='none'>
                <mean>0</mean>
                <stddev>0</stddev>
                <bias_mean>0</bias_mean>
                <bias_stddev>0</bias_stddev>
                <dynamic_bias_stddev>0</dynamic_bias_stddev>
                <dynamic_bias_correlation_time>0</dynamic_bias_correlation_time>
                <precision>0</precision>
              </noise>
            </y>
            <z>
              <noise type='none'>
                <mean>0</mean>
                <stddev>0</stddev>
                <bias_mean>0</bias_mean>
                <bias_stddev>0</bias_stddev>
                <dynamic_bias_stddev>0</dynamic_bias_stddev>
                <dynamic_bias_correlation_time>0</dynamic_bias_correlation_time>
                <precision>0</precision>
              </noise>
            </z>
          </angular_velocity>
          <linear_acceleration>
            <x>
              <noise type='none'>
                <mean>0</mean>
                <stddev>0</stddev>
                <bias_mean>0</bias_mean>
                <bias_stddev>0</bias_stddev>
                <dynamic_bias_stddev>0</dynamic_bias_stddev>
                <dynamic_bias_correlation_time>0</dynamic_bias_correlation_time>
                <precision>0</precision>
              </noise>
            </x>
            <y>
              <noise type='none'>
                <mean>0</mean>
                <stddev>0</stddev>
                <bias_mean>0</bias_mean>
                <bias_stddev>0</bias_stddev>
                <dynamic_bias_stddev>0</dynamic_bias_stddev>
                <dynamic_bias_correlation_time>0</dynamic_bias_correlation_time>
                <precision>0</precision>
              </noise>
            </y>
            <z>
              <noise type='none'>
                <mean>0</mean>
                <stddev>0</stddev>
                <bias_mean>0</bias_mean>
                <bias_stddev>0</bias_stddev>
                <dynamic_bias_stddev>0</dynamic_bias_stddev>
                <dynamic_bias_correlation_time>0</dynamic_bias_correlation_time>
                <precision>0</precision>
              </noise>
            </z>
          </linear_acceleration>
          <enable_orientation>true</enable_orientation>
        </imu>
      </sensor>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>1</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1</iyy>
          <iyz>0</iyz>
          <izz>1</izz>
        </inertia>
      </inertial>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='imu_link_joint' type='fixed'>
      <child>imu_link</child>
      <parent>base_link</parent>
      <pose>6.9388939039072284e-18 2.7755575615628914e-17 0 0 0 0</pose>
    </joint>
    <link name='warnign_light'>
      <pose>-0.18500000000000005 0 0.45999999999999996 0 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>0.10000000000000001</mass>
        <inertia>
          <ixx>1.6875e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1e-08</iyy>
          <iyz>0</iyz>
          <izz>1.6875e-05</izz>
        </inertia>
      </inertial>
      <light name='warnign_light_lamp' type='spot'>
        <pose>-0.040000000000000001 0 0 0 1.5707963267948966 0</pose>
        <cast_shadows>true</cast_shadows>
        <intensity>1</intensity>
        <direction>0 0 -1</direction>
        <diffuse>1 0.5 0 1</diffuse>
        <specular>1 0.5 0 1</specular>
        <attenuation>
          <range>5</range>
          <linear>0</linear>
          <constant>0.10000000000000001</constant>
          <quadratic>0.0025000000000000001</quadratic>
        </attenuation>
        <spot>
          <inner_angle>0.90000000000000002</inner_angle>
          <outer_angle>1</outer_angle>
          <falloff>2</falloff>
        </spot>
      </light>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='warnign_light_joint' type='revolute'>
      <child>warnign_light</child>
      <parent>base_link</parent>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-inf</lower>
          <upper>inf</upper>
          <effort>1000</effort>
          <velocity>20</velocity>
          <stiffness>100000000</stiffness>
          <dissipation>1</dissipation>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
      <pose>0 0 0 0 0 0</pose>
    </joint>

    <joint name='camera_front_joint' type='fixed'>
    	<pose>0.0553 0 0.4323 0 0 0</pose>
      <!-- <pose>0 0 0 0 0 0</pose> -->
      <parent>base_link</parent>
      <child>camera_front</child>
    </joint>

    <link name='camera_front'>
      <!-- <pose>0 0 0 0 0 0</pose> -->
      <pose>0.0553 0 0.4323 0 0 0</pose>
      <inertial>
        <!-- <pose>0 0 0 0 0 0</pose> -->
        <pose>0.0553 0 0.4323 0 0 0</pose>
        <mass>0.035</mass>
        <inertia>
          <ixx>0.001</ixx>
          <ixy>0.000</ixy>
          <ixz>0.000</ixz>
          <iyy>0.001</iyy>
          <iyz>0.000</iyz>
          <izz>0.001</izz>
        </inertia>
      </inertial>

      <sensor name='color' type='camera'>
        <topic>__default__</topic>
        <update_rate>6</update_rate>
        <enable_metrics>false</enable_metrics>
        <!-- <camera name='__default__'> -->
        <camera name="intel_realsense_r200">
          <camera_info_topic>__default__</camera_info_topic>
          <!-- <horizontal_fov>1.2042771800000001</horizontal_fov> -->
          <horizontal_fov>1.02974</horizontal_fov>
          <image>
            <!-- <width>848</width> -->
            <width>640</width>
            <height>480</height>
            <!-- <format>RGB_INT8</format> -->
            <format>R8G8B8</format>
            <anti_aliasing>4</anti_aliasing>
          </image>
          <clip>
            <near>0.02</near>
            <far>300</far>
          </clip>
          <noise>
            <type>gaussian</type>
            <!-- Noise is sampled independently per pixel on each frame.
                  That pixel's noise value is added to each of its color
                  channels, which at that point lie in the range [0,1]. -->
            <mean>0.0</mean>
            <stddev>0.007</stddev>
          </noise>
          <optical_frame_id>camera_front/color_optical_frame</optical_frame_id> <!-- -倒立 -->
        </camera>
      </sensor>

      <sensor name='depth' type='depth_camera'>
        <pose>0 0.0175 0.0125 0 0 0</pose>
        <topic>__default__</topic>
        <!-- <gz_frame_id>camera_front/depth_frame</gz_frame_id> --> <!-- 正置 -->
        <!-- <gz_frame_id>camera_front/depth_optical_frame</gz_frame_id> --> <!-- -倒立 -->
        <update_rate>6</update_rate>
        <enable_metrics>false</enable_metrics>
        <camera name='__default__'>
          <pose>0 0 0 0 0 0</pose>
          <horizontal_fov>1.02974</horizontal_fov>
          <image>
            <!-- <width>848</width> -->
            <width>640</width>
            <height>480</height>
            <!-- <format>R_FLOAT32</format> -->
            <format>R8G8B8</format>
            <anti_aliasing>4</anti_aliasing>
          </image>
          <camera_info_topic>__default__</camera_info_topic>
          <trigger_topic></trigger_topic>
          <triggered>false</triggered>
          <clip>
            <near>0.10000000000000001</near>
            <far>10</far>
          </clip>
          <save enabled='false'>
            <path>__default__</path>
          </save>
          <visibility_mask>4294967295</visibility_mask>
          <noise>
            <type>none</type>
            <mean>0</mean>
            <stddev>0</stddev>
          </noise>
          <distortion>
            <k1>0</k1>
            <k2>0</k2>
            <k3>0</k3>
            <p1>0</p1>
            <p2>0</p2>
            <center>0.5 0.5</center>
          </distortion>
          <!--
          <lens>
            <type>stereographic</type>
            <scale_to_hfov>true</scale_to_hfov>
            <cutoff_angle>1.5707</cutoff_angle>
            <env_texture_size>256</env_texture_size>
            <intrinsics>
              <fx>421.61578369140625</fx>
              <fy>421.61578369140625</fy>
              <cx>422.28543090820312</cx>
              <cy>236.57237243652344</cy>
              <s>0</s>
            </intrinsics>
          </lens>
          -->
          <optical_frame_id>camera_front/depth_frame</optical_frame_id> <!-- 正置 -->
        </camera>
      </sensor>
      <enable_wind>false</enable_wind>
    </link>

    <joint name='camera_back_joint' type='fixed'>
      <child>camera_back</child>
      <parent>base_link</parent>
      <pose>0 0 0 0 0 0</pose>
    </joint>

    <link name='camera_back'>
      <pose>-0.2410000000000001 0 0.23029999999999998 0 0 -3.1415926531795866</pose>
      <sensor name='color' type='camera'>
        <pose>0 0.032500000000000001 0.012500000000000001 0 0 0</pose>
        <topic>__default__</topic>
        <gz_frame_id>camera_back/color</gz_frame_id> <!-- これは、反映される。 -->
        <update_rate>6</update_rate>
        <enable_metrics>false</enable_metrics>
        <camera name='__default__'>
          <pose>0 0 0 0 0 0</pose>
          <horizontal_fov>1.2042771800000001</horizontal_fov>
          <image>
            <!-- <width>848</width> -->
            <width>640</width>
            <height>480</height>
            <!-- <format>RGB_INT8</format> -->
            <format>R8G8B8</format>
            <anti_aliasing>4</anti_aliasing>
          </image>
          <camera_info_topic>__default__</camera_info_topic>
          <trigger_topic></trigger_topic>
          <triggered>false</triggered>
          <clip>
            <near>0.10000000000000001</near>
            <far>50</far>
          </clip>
          <save enabled='false'>
            <path>__default__</path>
          </save>
          <visibility_mask>4294967295</visibility_mask>
          <noise>
            <type>none</type>
            <mean>0</mean>
            <stddev>0</stddev>
          </noise>
          <distortion>
            <k1>0</k1>
            <k2>0</k2>
            <k3>0</k3>
            <p1>0</p1>
            <p2>0</p2>
            <center>0.5 0.5</center>
          </distortion>
          <lens>
            <type>stereographic</type>
            <scale_to_hfov>true</scale_to_hfov>
            <cutoff_angle>1.5707</cutoff_angle>
            <env_texture_size>256</env_texture_size>
            <intrinsics>
              <fx>615.9603271484375</fx>
              <fy>616.227294921875</fy>
              <cx>419.83026123046875</cx>
              <cy>245.14314270019531</cy>
              <s>0</s>
            </intrinsics>
          </lens>
          <optical_frame_id></optical_frame_id>
        </camera>
      </sensor>
      <sensor name='depth' type='depth_camera'>
        <pose>0 0.017500000000000002 0.012500000000000001 0 0 0</pose>
        <topic>__default__</topic>
        <gz_frame_id>camera_back/depth</gz_frame_id> <!-- これは、反映される。 -->
        <update_rate>6</update_rate>
        <enable_metrics>false</enable_metrics>
        <camera name='__default__'>
          <pose>0 0 0 0 0 0</pose>
          <horizontal_fov>1.51843645</horizontal_fov>
          <image>
            <!-- <width>848</width> -->
            <width>640</width>
            <height>480</height>
            <!-- <format>R_FLOAT32</format> -->
            <format>R8G8B8</format>
            <anti_aliasing>4</anti_aliasing>
          </image>
          <camera_info_topic>__default__</camera_info_topic>
          <trigger_topic></trigger_topic>
          <triggered>false</triggered>
          <clip>
            <near>0.10000000000000001</near>
            <far>10</far>
          </clip>
          <save enabled='false'>
            <path>__default__</path>
          </save>
          <visibility_mask>4294967295</visibility_mask>
          <noise>
            <type>none</type>
            <mean>0</mean>
            <stddev>0</stddev>
          </noise>
          <distortion>
            <k1>0</k1>
            <k2>0</k2>
            <k3>0</k3>
            <p1>0</p1>
            <p2>0</p2>
            <center>0.5 0.5</center>
          </distortion>
          <lens>
            <type>stereographic</type>
            <scale_to_hfov>true</scale_to_hfov>
            <cutoff_angle>1.5707</cutoff_angle>
            <env_texture_size>256</env_texture_size>
            <intrinsics>
              <fx>421.61578369140625</fx>
              <fy>421.61578369140625</fy>
              <cx>422.28543090820312</cx>
              <cy>236.57237243652344</cy>
              <s>0</s>
            </intrinsics>
          </lens>
          <optical_frame_id></optical_frame_id>
        </camera>
      </sensor>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>1</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1</iyy>
          <iyz>0</iyz>
          <izz>1</izz>
        </inertia>
      </inertial>
      <enable_wind>false</enable_wind>
    </link>

    <link name='scan_front'>
      <pose>0.22100000000000009 0 0.1404 0 0 0</pose>

      <!-- scan センサーの定義 -->
      <sensor name='scan_front' type='gpu_lidar'>
        <pose>0 0 0 0 0 0</pose>
        <topic>__default__</topic>
        <update_rate>10</update_rate>
        <enable_metrics>false</enable_metrics>
        <!-- turtlebot3 の定義にならってみる by nishi 2025.10.12 -->
        <!-- <topic>scan</topic>  --><!-- これは効かない -->
        <gz_frame_id>scan_front</gz_frame_id> <!-- これは、反映される。 -->
        <lidar>
          <scan>
            <horizontal>
              <samples>674</samples>
              <resolution>1</resolution>
              <min_angle>-1.4704399108899999</min_angle>
              <max_angle>1.4704399108899999</max_angle>
            </horizontal>
            <vertical>
              <samples>1</samples>
              <min_angle>0</min_angle>
              <max_angle>0</max_angle>
              <resolution>1</resolution>
            </vertical>
          </scan>
          <range>
            <!-- original tugbot house -->
            <!-- <min>0.01</min>
            <max>5</max>
            <resolution>0.01</resolution> -->
            <!-- depot tb4 -->
            <min>0.16400000000000001</min>
            <max>10</max>
            <resolution>0.01</resolution>
          </range>
          <noise>
            <type>none</type>
            <mean>0</mean>
            <stddev>0</stddev>
          </noise>
          <visibility_mask>4294967295</visibility_mask>
        </lidar>
      </sensor>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>1</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1</iyy>
          <iyz>0</iyz>
          <izz>1</izz>
        </inertia>
      </inertial>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='scan_front_joint' type='fixed'>
      <child>scan_front</child>
      <parent>base_link</parent>
      <pose>0 0 0 0 0 0</pose>
    </joint>
    <link name='scan_back'>
      <pose>-0.20750000000000002 0 0.20499999999999999 0 0 -3.1415926531795866</pose>
      <sensor name='scan_back' type='gpu_lidar'>
        <pose>0 0 0 0 0 0</pose>
        <topic>__default__</topic>
        <update_rate>5</update_rate>
        <enable_metrics>false</enable_metrics>
        <!-- add by nishi 2025.10.12 -->
        <gz_frame_id>scan_back</gz_frame_id> <!-- これは、反映される。 -->
        <lidar>
          <scan>
            <horizontal>
              <samples>480</samples>
              <resolution>1</resolution>
              <min_angle>-1.4704399108899999</min_angle>
              <max_angle>1.4704399108899999</max_angle>
            </horizontal>
            <vertical>
              <samples>1</samples>
              <min_angle>0</min_angle>
              <max_angle>0</max_angle>
              <resolution>1</resolution>
            </vertical>
          </scan>
          <range>
            <!-- original tb3 house -->
            <!--
            <min>0.01</min>
            <max>5</max>
            <resolution>0.01</resolution>
            -->
            <!-- depot tugbot -->
            <min>0.16400000000000001</min>
            <max>10</max>
            <resolution>0.01</resolution>
          </range>
          <noise>
            <type>none</type>
            <mean>0</mean>
            <stddev>0</stddev>
          </noise>
          <visibility_mask>4294967295</visibility_mask>
        </lidar>
      </sensor>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>1</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1</iyy>
          <iyz>0</iyz>
          <izz>1</izz>
        </inertia>
      </inertial>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='scan_back_joint' type='fixed'>
      <child>scan_back</child>
      <parent>base_link</parent>
      <pose>0 0 0 0 0 0</pose>
    </joint>
    <link name='scan_omni'>
      <pose>-0.18550000000000022 0 0.53180000000000005 0 0 0</pose>
      <visual name='velodyne_base'>
        <pose>0 0 -0.035000000000000003 0 0 0</pose>
        <geometry>
          <cylinder>
            <radius>0.059999999999999998</radius>
            <length>0.0015</length>
          </cylinder>
        </geometry>
      </visual>
      <visual name='velodyne_suport_1'>
        <pose>-0.035000000000000003 0.035000000000000003 -0.080000000000000002 0 0 0</pose>
        <geometry>
          <cylinder>
            <radius>0.0050000000000000001</radius>
            <length>0.089999999999999997</length>
          </cylinder>
        </geometry>
      </visual>
      <visual name='velodyne_suport_2'>
        <pose>-0.035000000000000003 -0.035000000000000003 -0.080000000000000002 0 0 0</pose>
        <geometry>
          <cylinder>
            <radius>0.0050000000000000001</radius>
            <length>0.089999999999999997</length>
          </cylinder>
        </geometry>
      </visual>
      <visual name='velodyne_suport_3'>
        <pose>0.049500000000000002 0 -0.080000000000000002 0 0 0</pose>
        <geometry>
          <cylinder>
            <radius>0.0050000000000000001</radius>
            <length>0.089999999999999997</length>
          </cylinder>
        </geometry>
      </visual>
      <visual name='velodyne_base_link_visual_base'>
        <pose>0 0 -0.035000000000000003 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>meshes/VLP16_base_1.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <visual name='velodyne_base_link_visual_sensor'>
        <pose>0 0 -0.035000000000000003 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>meshes/VLP16_base_2.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <visual name='base_link_velodyne_visual_scan'>
        <pose>0 0 -0.035000000000000003 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>meshes/VLP16_scan.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <sensor name='scan_omni' type='gpu_lidar'>
        <pose>0 0 0 0 0 0</pose>
        <topic>__default__</topic>
        <update_rate>10</update_rate>
        <enable_metrics>false</enable_metrics>
        <!-- add by nishi 2025.10.12 -->
        <gz_frame_id>scan_omni</gz_frame_id> <!-- これは、反映される。 -->
        <lidar>
          <scan>
            <horizontal>
              <samples>900</samples>
              <resolution>1</resolution>
              <min_angle>-3.1415926540000001</min_angle>
              <max_angle>3.1415926540000001</max_angle>
            </horizontal>
            <vertical>
              <samples>16</samples>
              <min_angle>-0.26179938800000002</min_angle>
              <max_angle>0.26179938800000002</max_angle>
              <resolution>1</resolution>
            </vertical>
          </scan>
          <range>
            <min>0.20000000000000001</min>
            <!-- <max>100</max>  -->
            <!-- changed by nishi 2025.10.13-->
            <max>10</max>
            <resolution>0.01</resolution>
          </range>
          <noise>
            <type>none</type>
            <mean>0</mean>
            <stddev>0</stddev>
          </noise>
          <visibility_mask>4294967295</visibility_mask>
        </lidar>
      </sensor>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>1</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1</iyy>
          <iyz>0</iyz>
          <izz>1</izz>
        </inertia>
      </inertial>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='scan_omni_joint' type='fixed'>
      <child>scan_omni</child>
      <parent>base_link</parent>
      <pose>0 0 0 0 0 0</pose>
    </joint>

    <link name='gripper'>
      <pose>-0.35000000000000009 0 0.10000000000000001 0 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>0.0016666669999999999</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0016666669999999999</iyy>
          <iyz>0</iyz>
          <izz>0.0016666669999999999</izz>
        </inertia>
      </inertial>
      <collision name='gripper_collision'>
        <pose>-0.0050000000000000001 0 0 0 0 0</pose>
        <max_contacts>5</max_contacts>
        <geometry>
          <box>
            <size>0.14999999999999999 0.10000000000000001 0.10000000000000001</size>
          </box>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.1599999999999999</mu>
              <mu2>1.1599999999999999</mu2>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <visual name='gripper_visual'>
        <pose>0 0 0 -1.57079632679 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>meshes/gripper2/gripper2.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <sensor name='sensor_contact' type='gpu_lidar'>
        <pose>-0.074999999999999997 0 0.035000000000000003 0 0 -3.1415926531795866</pose>
        <topic>__default__</topic>
        <update_rate>10</update_rate>
        <enable_metrics>false</enable_metrics>
        <lidar>
          <scan>
            <horizontal>
              <samples>3</samples>
              <resolution>1</resolution>
              <min_angle>-0.02</min_angle>
              <max_angle>0.02</max_angle>
            </horizontal>
            <vertical>
              <samples>1</samples>
              <min_angle>0</min_angle>
              <max_angle>0</max_angle>
              <resolution>1</resolution>
            </vertical>
          </scan>
          <range>
            <min>0.001</min>
            <max>0.01</max>
            <resolution>0.001</resolution>
          </range>
          <noise>
            <type>none</type>
            <mean>0</mean>
            <stddev>0</stddev>
          </noise>
          <visibility_mask>4294967295</visibility_mask>
        </lidar>
      </sensor>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='gripper_joint' type='revolute'>
      <pose>0.34999999999999998 0 0.089999999999999997 0 0 0</pose>
      <child>gripper</child>
      <parent>base_link</parent>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-0.69999999999999996</lower>
          <upper>0.69999999999999996</upper>
          <effort>4</effort>
          <velocity>0.5</velocity>
          <stiffness>100000000</stiffness>
          <dissipation>1</dissipation>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0</damping>
          <friction>0.5</friction>
        </dynamics>
      </axis>
    </joint>
    <link name='gripper_hand'>
      <pose>-0.46300000000000008 0 0.10000000000000001 0 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>0.20000000000000001</mass>
        <inertia>
          <ixx>1.5999999999999999e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1.5999999999999999e-05</iyy>
          <iyz>0</iyz>
          <izz>1.5999999999999999e-05</izz>
        </inertia>
      </inertial>
      <collision name='gripper_hand_collision'>
        <pose>0.014999999999999999 0 0.0060000000000000001 0 0 0</pose>
        <geometry>
          <box>
            <size>0.040000000000000001 0.10000000000000001 0.017000000000000001</size>
          </box>
        </geometry>
        <max_contacts>5</max_contacts>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.1599999999999999</mu>
              <mu2>1.1599999999999999</mu2>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <visual name='gripper_hand_visual'>
        <pose>0 0 0 1.5707963270000003 -5.5511151231257827e-17 1.5707963270000003</pose>
        <geometry>
          <mesh>
            <scale>0.001 0.001 0.001</scale>
            <uri>meshes/gripper2/gripper_hand.stl</uri>
          </mesh>
        </geometry>
        <material>
          <ambient>0.100000001 0.100000001 0.100000001 1</ambient>
          <diffuse>0.300000012 0.300000012 0.300000012 1</diffuse>
          <specular>1 1 1 1</specular>
          <emissive>0 0 0 1</emissive>
        </material>
      </visual>
      <collision name='gripper_hand_sideL_collision'>
        <pose>0 0.080000000000000002 0.029999999999999999 0 0 0</pose>
        <geometry>
          <box>
            <size>0.01 0.050000000000000003 0.070000000000000007</size>
          </box>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.1599999999999999</mu>
              <mu2>1.1599999999999999</mu2>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <collision name='gripper_hand_sideL_slide_collision'>
        <pose>0 0.055 0.029999999999999999 0.90000000000000002 0 0</pose>
        <geometry>
          <box>
            <size>0.01 0.055 0.040000000000000001</size>
          </box>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>0</mu>
              <mu2>0</mu2>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <collision name='gripper_hand_sideR_collision'>
        <pose>0 -0.080000000000000002 0.029999999999999999 0 0 0</pose>
        <geometry>
          <box>
            <size>0.01 0.050000000000000003 0.070000000000000007</size>
          </box>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.1599999999999999</mu>
              <mu2>1.1599999999999999</mu2>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <collision name='gripper_hand_sideR_slide_collision'>
        <pose>0 -0.055 0.029999999999999999 -0.90000000000000002 0 0</pose>
        <geometry>
          <box>
            <size>0.01 0.055 0.040000000000000001</size>
          </box>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>0</mu>
              <mu2>0</mu2>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='gripper_hand_joint' type='revolute'>
      <pose>0.20000000000000001 0 0 0 0 0</pose>
      <child>gripper_hand</child>
      <parent>gripper</parent>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-0.34999999999999998</lower>
          <upper>0.10000000000000001</upper>
          <effort>100</effort>
          <velocity>0.5</velocity>
          <stiffness>100000000</stiffness>
          <dissipation>1</dissipation>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
    </joint>
    <link name='wheel_front'>
      <pose>0.14500000000000002 0 0.034500000000000003 1.5707963270000003 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>0.10000000000000001</mass>
        <inertia>
          <ixx>1.7499999999999998e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1.7499999999999998e-05</iyy>
          <iyz>0</iyz>
          <izz>1.7499999999999998e-05</izz>
        </inertia>
      </inertial>
      <collision name='wheel_front_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <sphere>
            <radius>0.025000000000000001</radius>
          </sphere>
        </geometry>
        <max_contacts>2</max_contacts>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.1599999999999999</mu>
              <mu2>1.1599999999999999</mu2>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='wheel_front_joint' type='ball'>
      <child>wheel_front</child>
      <parent>base_link</parent>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-inf</lower>
          <upper>inf</upper>
          <effort>100</effort>
          <velocity>inf</velocity>
          <stiffness>100000000</stiffness>
          <dissipation>1</dissipation>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>10</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
      <pose>0 0 0 0 0 0</pose>
    </joint>
    <link name='wheel_back'>
      <pose>-0.22500000000000009 0 0.035000000000000003 1.5707963270000003 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>0.10000000000000001</mass>
        <inertia>
          <ixx>1.7499999999999998e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1.7499999999999998e-05</iyy>
          <iyz>0</iyz>
          <izz>1.7499999999999998e-05</izz>
        </inertia>
      </inertial>
      <collision name='wheel_back_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <sphere>
            <radius>0.035000000000000003</radius>
          </sphere>
        </geometry>
        <max_contacts>2</max_contacts>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.1599999999999999</mu>
              <mu2>1.1599999999999999</mu2>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='wheel_back_joint' type='ball'>
      <child>wheel_back</child>
      <parent>base_link</parent>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-inf</lower>
          <upper>inf</upper>
          <effort>100</effort>
          <velocity>inf</velocity>
          <stiffness>100000000</stiffness>
          <dissipation>1</dissipation>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>10</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
      <pose>0 0 -3.4694469519536142e-18 0 0 0</pose>
    </joint>
    <link name='wheel_left'>
      <pose>0 0.2569999999999999 0.19499999999999998 -1.5707963270000003 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>0.10000000000000001</mass>
        <inertia>
          <ixx>1.7499999999999998e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1.7499999999999998e-05</iyy>
          <iyz>0</iyz>
          <izz>3.1250000000000001e-05</izz>
        </inertia>
      </inertial>
      <collision name='wheel_left_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <cylinder>
            <radius>0.19500000000000001</radius>
            <length>0.050000000000000003</length>
          </cylinder>
        </geometry>
        <max_contacts>5</max_contacts>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.1599999999999999</mu>
              <mu2>10</mu2>
              <fdir1>1 0 0</fdir1>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <visual name='wheel_left_visual'>
        <pose>0 0 -0.029999999999999999 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>0.97999999999999998 0.97999999999999998 1</scale>
            <uri>meshes/wheel/wheel.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='wheel_left_joint' type='revolute'>
      <child>wheel_left</child>
      <parent>base_link</parent>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-inf</lower>
          <upper>inf</upper>
          <effort>9.5999999999999996</effort>
          <velocity>inf</velocity>
          <stiffness>100000000</stiffness>
          <dissipation>1</dissipation>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>3</damping>
          <friction>0.5</friction>
        </dynamics>
      </axis>
      <pose>0 0 5.5511151231257827e-17 0 0 0</pose>
    </joint>
    <link name='wheel_right'>
      <pose>0 -0.25700000000000001 0.19499999999999998 1.5707963270000003 0 0</pose>
      <inertial>
        <pose>0 0 0 0 0 0</pose>
        <mass>0.10000000000000001</mass>
        <inertia>
          <ixx>1.7499999999999998e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1.7499999999999998e-05</iyy>
          <iyz>0</iyz>
          <izz>3.1250000000000001e-05</izz>
        </inertia>
      </inertial>
      <collision name='wheel_right_collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <cylinder>
            <radius>0.19500000000000001</radius>
            <length>0.050000000000000003</length>
          </cylinder>
        </geometry>
        <max_contacts>5</max_contacts>
        <surface>
          <contact>
            <ode>
              <kp>1000000</kp>
              <kd>1</kd>
              <min_depth>0.01</min_depth>
              <max_vel>1</max_vel>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.1599999999999999</mu>
              <mu2>10</mu2>
              <fdir1>1 0 0</fdir1>
            </ode>
          </friction>
          <bounce/>
        </surface>
      </collision>
      <visual name='wheel_right_visual'>
        <pose>0 0 -0.029999999999999999 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>0.97999999999999998 0.97999999999999998 1</scale>
            <uri>meshes/wheel/wheel.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <enable_wind>false</enable_wind>
    </link>
    <joint name='wheel_right_joint' type='revolute'>
      <child>wheel_right</child>
      <parent>base_link</parent>
      <axis>
        <xyz>0 0 -1</xyz>
        <limit>
          <lower>-inf</lower>
          <upper>inf</upper>
          <effort>9.5999999999999996</effort>
          <velocity>inf</velocity>
          <stiffness>100000000</stiffness>
          <dissipation>1</dissipation>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>3</damping>
          <friction>0.5</friction>
        </dynamics>
      </axis>
      <pose>0 0 5.5511151231257827e-17 0 0 0</pose>
    </joint>

    <joint name="base_joint" type="fixed">
      <parent>base_footprint</parent>
      <child>base_link</child>
      <pose>0.0 0.0 0.010 0 0 0</pose>
    </joint>

    <!-- 
    下記は、models/turtlebot3_waffle/model.sdf 
    を参考に変更する。
    -->
    <plugin name='ignition::gazebo::systems::DiffDrive' filename='ignition-gazebo-diff-drive-system'>
      <!-- wheels -->
      <left_joint>wheel_left_joint</left_joint>
      <right_joint>wheel_right_joint</right_joint>

      <!-- kinematics -->
      <wheel_separation>0.5605</wheel_separation>
      <wheel_radius>0.195</wheel_radius>

      <!-- add by nishi -->
      <topic>cmd_vel</topic>

      <odom_topic>odom</odom_topic>
      <frame_id>odom</frame_id>
      <tf_topic>/tf</tf_topic>
      <!-- lego_loam_sr の時、 /tf が、バッティングするので、 /tf を /tf_gazebo にする。 by nishi 2025.10.13 -->
      <!-- <tf_topic>/tf_gazebo</tf_topic> -->
      <!-- lego_loam_sr の時、 下記、base_footprint を link しない。 by nishi 2025.10.13 -->
      <child_frame_id>base_footprint</child_frame_id>
      <odom_publisher_frequency>30</odom_publisher_frequency>
    </plugin>

    <!--
    <plugin name='ignition::gazebo::systems::JointController' filename='ignition-gazebo-joint-controller-system'>
      <joint_name>gripper_joint</joint_name>
      <use_force_commands>true</use_force_commands>
      <p_gain>0.2</p_gain>
      <i_gain>0.01</i_gain>
    </plugin>
    <plugin name='ignition::gazebo::systems::JointController' filename='ignition-gazebo-joint-controller-system'>
      <joint_name>gripper_hand_joint</joint_name>
      <use_force_commands>true</use_force_commands>
      <p_gain>0.2</p_gain>
      <i_gain>0.01</i_gain>
    </plugin>
    <plugin name='ignition::gazebo::systems::PosePublisher' filename='ignition-gazebo-pose-publisher-system'>
      <publish_link_pose>true</publish_link_pose>
      <publish_collision_pose>false</publish_collision_pose>
      <publish_visual_pose>false</publish_visual_pose>
      <publish_sensor_pose>false</publish_sensor_pose>
      <publish_nested_model_pose>true</publish_nested_model_pose>
      <update_frequency>20</update_frequency>
    </plugin>
    -->
    <plugin name='ignition::gazebo::systems::JointController' filename='ignition-gazebo-joint-controller-system'>
      <joint_name>warnign_light_joint</joint_name>
      <initial_velocity>10.0</initial_velocity>
    </plugin>
    <!--
    <plugin name='ignition::gazebo::systems::LinearBatteryPlugin' filename='ignition-gazebo-linearbatteryplugin-system'>
      <battery_name>linear_battery</battery_name>
      <voltage>24.592</voltage>
      <open_circuit_voltage_constant_coef>24.592</open_circuit_voltage_constant_coef>
      <capacity>1.2009</capacity>
      <power_load>6.5</power_load>
      <fix_issue_225>true</fix_issue_225>
      <enable_recharge>true</enable_recharge>
      <charging_time>3.0</charging_time>
      <recharge_by_topic>true</recharge_by_topic>
    </plugin>
    <plugin name='ignition::gazebo::systems::JointStatePublisher' filename='ignition-gazebo-joint-state-publisher-system'>
      <joint_name>gripper_joint</joint_name>
      <joint_name>gripper_hand_joint</joint_name>
    </plugin>
    -->
  </model>
</sdf>
